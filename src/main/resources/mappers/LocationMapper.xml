<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.openrun.ticket.mappers.LocationMapper">
	<resultMap id="locationResult" type="locationVO">
		<result property="l_no" column="l_no" />
		<result property="l_name" column="l_name" />
		<result property="l_lat" column="l_lat" />
		<result property="l_long" column="l_long" />
	</resultMap>
	
	<resultMap id="productResult" type="productVO">
		<result property="p_no" column="p_no" />
		<result property="p_name" column="p_name" />
		<result property="p_img" column="p_img" />
		<result property="p_category" column="p_category" />
		<result property="p_location" column="p_location" />
		<result property="p_perfo_start_date" column="p_perfo_start_date" />
		<result property="p_perfo_end_date" column="p_perfo_end_date" />
		<result property="p_resev_start_date" column="p_resev_start_date" />
		<result property="p_resev_end_date" column="p_resev_end_date" />
		<result property="p_viewing_time" column="p_viewing_time" />
		<result property="p_viewing_grade" column="p_viewing_grade" />
		<result property="p_hall" column="p_hall" />
		<result property="p_seat" column="p_seat" />
		<result property="p_grade" column="p_grade" />
		<result property="p_price" column="p_price" />
		<result property="p_content" column="p_content" />
	</resultMap>
	
    <select id="selectLocation" resultMap="locationResult" parameterType="int">
        SELECT location.* FROM location INNER JOIN product ON location.l_name = product.p_hall WHERE product.p_no = #{p_no}
    </select>

</mapper>